<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link href="../assets/brand-buttons-inversed.min.css" rel="stylesheet">
    <link href="../assets/brand-buttons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link href="../assets/style.css" rel="stylesheet">
    <title>SmartLists</title>
</head>

<body style="text-align: center;">
    <nav class="navbar navbar-expand-xl fixed-top navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand mb-0 h1" href="../">SmartLists</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="../about">About</a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a class="btn btn-spotify" href="../api/logout" id="loginButton">Logout</a>
                </ul>
            </div>
        </div>
    </nav>
    <div class="content">
        <div id="left">
            <div id="inner">
                <h1>Let's Get Started</h1>
                <p>Search for your favorite playlist or choose from one of our recommendations to start.</p>
                <form id="playlist-search-form">
                    <div class="input-group" style="padding-top:3%;">

                        <input class="form-control border-end-0 border" type="text" placeholder="Search" id="playlist-search-input">

                        <span class="input-group-append">
                        <button class="btn btn-outline-secondary bg-white border-start-0 border ms-n3" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                    </span>
                    </div>
                </form>
            </div>
            <p class="footer">
                <span class="line">Can't find your playlist?</span>
                <span class="line">Make sure you're following it on Spotify first.</span>
            </p>
        </div>

        <div id="backRight">
            <div id="right">
                <div class="item animation-target"><img onclick="scrollOut();" class="innerItem" src='https://dailymix-images.scdn.co/v2/img/ab6761610000e5eb84776fe119fa6503fdffb0f8/1/en/default' />
                    <p class="innerText">Daily Mix 1</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://dailymix-images.scdn.co/v2/img/ab6761610000e5eb97e6df979e0c39443a6aa0e4/2/en/default' />
                    <p class="innerText">Daily Mix 2</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://dailymix-images.scdn.co/v2/img/ab6761610000e5eb379c213b357ab1228c0a670d/3/en/default' />
                    <p class="innerText">Daily Mix 3</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://dailymix-images.scdn.co/v2/img/ab6761610000e5ebc5bf602162d30b7133cfe96a/4/en/default' />
                    <p class="innerText">Daily Mix 4</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://dailymix-images.scdn.co/v2/img/ab6761610000e5eb15425e51091c49d07b3bca64/5/en/default' />
                    <p class="innerText">Daily Mix 5</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://dailymix-images.scdn.co/v2/img/ab6761610000e5ebd123e4c884d1a5e2edff1895/6/en/default' />
                    <p class="innerText">Daily Mix 6</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://newjams-images.scdn.co/v3/release-radar/ab6761610000e5eb46e7a06fa6dfefaed6a3f0db/en/default' />
                    <p class="innerText">Release Radar</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://newjams-images.scdn.co/image/ab676477000033ad/dt/v3/discover-weekly/fTieFtlyqdLbzy3aumi7M1gK0nNic9MLdu-GG0lk94E9yH8J28NuVXYm8uGM6AbqK5x6ATd47rJnO9besYFg6sitF_n1s61IXhQnjpFF0kE=/NjM6MTU6ODBUMDMtNTAtMg=='
                    />
                    <p class="innerText">Discover Weekly</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://mixed-media-images.spotifycdn.com/daily-wellness/daily-wellness-2.0-en-default.jpg' />
                    <p class="innerText">Daily Wellness</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://lineup-images.scdn.co/wrapped-2021-top100_DEFAULT-en.jpg' />
                    <p class="innerText">Your Top Songs 2021</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://lineup-images.scdn.co/wrapped-2020-top100_DEFAULT-en.jpg' />
                    <p class="innerText">Your Top Songs 2020</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://lineup-images.scdn.co/your-top-songs-2019_DEFAULT-en.jpg' />
                    <p class="innerText">Your Top Songs 2019</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://lineup-images.scdn.co/your-top-songs-2018_DEFAULT-en.jpg' />
                    <p class="innerText">Your Top Songs 2018</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://lineup-images.scdn.co/your-top-songs-2017_DEFAULT-en.jpg' />
                    <p class="innerText">Your Top Songs 2017</p>
                </div>
                <div class="item animation-target"><img class="innerItem" src='https://lineup-images.scdn.co/your-top-songs-2016_DEFAULT-en.jpg' />
                    <p class="innerText">Your Top Songs 2016</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js" integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="../assets/index.js"></script>
    <script>
        var requestOptions = {
            method: 'GET',
            redirect: 'follow',
            credentials: "include"
        };

        fetch("../api/verify", requestOptions)
            .then(response => response.text())
            .then(result => {
                if (!JSON.parse(result).valid) {
                    window.location.href = "../";
                }
            })
            .catch(error => console.log('error', error));

        animateFlex("item", "right");
        $(document).ready(function() {
            $("#playlist-search-form").submit(function(event) {
                var formData = {
                    'search': $('#playlist-search-input').val(),
                    'token': JSON.parse(getCookie('spToken')).access_token
                };

                console.log(formData['token']);

                $.ajax({
                    'type': 'POST',
                    'url': location.origin + location.pathname,
                    'data': formData,
                    'dataType': 'json',
                    'encode': 'true'
                }).done(function(data) {
                    console.log(data);
                });
                event.preventDefault();
            });
        });


        var scrollContainer = document.getElementById('right');
        document.body.addEventListener("wheel", (evt) => {
            evt.preventDefault();
            scrollContainer.scrollLeft += evt.deltaY;
            scrollContainer.scrollLeft += evt.deltaX;
        }, {
            passive: false
        });
    </script>
</body>

</html>